<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Flip-Wecker Uhr</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        .clock {
            background-color: #ffa500;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }
        .time-container {
            background-color: #333;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            justify-content: center;
        }
        .time-section {
            margin: 0 10px;
        }
        .time-card {
            width: 160px;
            height: 160px;
        }
        .time-label {
            font-size: 24px;
            color: #fff;
            text-align: center;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="clock">
        <div class="time-container">
            <div class="time-section">
                <svg id="hours" class="time-card" viewBox="0 0 160 160"></svg>
                <div class="time-label">Stunden</div>
            </div>
            <div class="time-section">
                <svg id="minutes" class="time-card" viewBox="0 0 160 160"></svg>
                <div class="time-label">Minuten</div>
            </div>
            <div class="time-section">
                <svg id="seconds" class="time-card" viewBox="0 0 160 160"></svg>
                <div class="time-label">Sekunden</div>
            </div>
        </div>
    </div>

    <script>
        function createFlipCard(svgElement) {
            const ns = "http://www.w3.org/2000/svg";
            
            const backRect = document.createElementNS(ns, "rect");
            backRect.setAttribute("width", "160");
            backRect.setAttribute("height", "160");
            backRect.setAttribute("fill", "#222");
            svgElement.appendChild(backRect);

            const topHalf = document.createElementNS(ns, "g");
            const bottomHalf = document.createElementNS(ns, "g");
            
            const topClip = document.createElementNS(ns, "clipPath");
            topClip.id = `${svgElement.id}-top-clip`;
            const topClipRect = document.createElementNS(ns, "rect");
            topClipRect.setAttribute("width", "160");
            topClipRect.setAttribute("height", "80");
            topClip.appendChild(topClipRect);
            svgElement.appendChild(topClip);

            const bottomClip = document.createElementNS(ns, "clipPath");
            bottomClip.id = `${svgElement.id}-bottom-clip`;
            const bottomClipRect = document.createElementNS(ns, "rect");
            bottomClipRect.setAttribute("y", "80");
            bottomClipRect.setAttribute("width", "160");
            bottomClipRect.setAttribute("height", "80");
            bottomClip.appendChild(bottomClipRect);
            svgElement.appendChild(bottomClip);

            topHalf.setAttribute("clip-path", `url(#${svgElement.id}-top-clip)`);
            bottomHalf.setAttribute("clip-path", `url(#${svgElement.id}-bottom-clip)`);

            const topRect = document.createElementNS(ns, "rect");
            topRect.setAttribute("width", "160");
            topRect.setAttribute("height", "160");
            topRect.setAttribute("fill", "#333");
            topHalf.appendChild(topRect);

            const bottomRect = document.createElementNS(ns, "rect");
            bottomRect.setAttribute("width", "160");
            bottomRect.setAttribute("height", "160");
            bottomRect.setAttribute("fill", "#333");
            bottomHalf.appendChild(bottomRect);

            const topText = document.createElementNS(ns, "text");
            topText.setAttribute("x", "80");
            topText.setAttribute("y", "100");
            topText.setAttribute("text-anchor", "middle");
            topText.setAttribute("font-size", "120");
            topText.setAttribute("fill", "white");
            topHalf.appendChild(topText);

            const bottomText = document.createElementNS(ns, "text");
            bottomText.setAttribute("x", "80");
            bottomText.setAttribute("y", "100");
            bottomText.setAttribute("text-anchor", "middle");
            bottomText.setAttribute("font-size", "120");
            bottomText.setAttribute("fill", "white");
            bottomHalf.appendChild(bottomText);

            svgElement.appendChild(bottomHalf);
            svgElement.appendChild(topHalf);

            return { topHalf, bottomHalf, topText, bottomText };
        }

        function flipCard(card, newValue) {
            const { topHalf, bottomHalf, topText, bottomText } = card;
            const oldValue = topText.textContent;

            if (oldValue === newValue) return;

            bottomText.textContent = newValue;

            const flipAnimation = topHalf.animate([
                { transform: 'rotateX(0deg)', transformOrigin: 'bottom' },
                { transform: 'rotateX(-90deg)', transformOrigin: 'bottom' }
            ], {
                duration: 300,
                easing: 'ease-in'
            });

            flipAnimation.onfinish = () => {
                topText.textContent = newValue;
                const flipBackAnimation = topHalf.animate([
                    { transform: 'rotateX(-90deg)', transformOrigin: 'bottom' },
                    { transform: 'rotateX(0deg)', transformOrigin: 'bottom' }
                ], {
                    duration: 300,
                    easing: 'ease-out'
                });
            };
        }

        const cards = {
            hours: createFlipCard(document.getElementById('hours')),
            minutes: createFlipCard(document.getElementById('minutes')),
            seconds: createFlipCard(document.getElementById('seconds'))
        };

        function updateTime() {
            const now = new Date();
            flipCard(cards.hours, String(now.getHours()).padStart(2, '0'));
            flipCard(cards.minutes, String(now.getMinutes()).padStart(2, '0'));
            flipCard(cards.seconds, String(now.getSeconds()).padStart(2, '0'));
        }

        setInterval(updateTime, 1000);
        updateTime();
    </script>
</body>
</html>
